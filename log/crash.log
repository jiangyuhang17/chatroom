2021-06-19 20:35:41 =ERROR REPORT====
Failed to start Ranch listener http in ranch_tcp:listen([{cacerts,'...'},{key,'...'},{cert,'...'},{port,12580}]) for reason eaddrinuse (address already in use)
2021-06-19 20:35:41 =CRASH REPORT====
  crasher:
    initial call: supervisor:ranch_acceptors_sup/1
    pid: <0.267.0>
    registered_name: []
    exception exit: {{listen_error,http,eaddrinuse},[{ranch_acceptors_sup,listen_error,5,[{file,"/home/xgame/chatroom/_build/default/lib/ranch/src/ranch_acceptors_sup.erl"},{line,66}]},{supervisor,init,1,[{file,"supervisor.erl"},{line,295}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,374}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,342}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.265.0>,ranch_sup,<0.251.0>]
    message_queue_len: 0
    messages: []
    links: [<0.265.0>]
    dictionary: [{logger,error_logger}]
    trap_exit: true
    status: running
    heap_size: 2586
    stack_size: 27
    reductions: 4156
  neighbours:
2021-06-19 20:35:41 =SUPERVISOR REPORT====
     Supervisor: {<0.265.0>,ranch_listener_sup}
     Context:    start_error
     Reason:     {listen_error,http,eaddrinuse}
     Offender:   [{pid,undefined},{id,ranch_acceptors_sup},{mfargs,{ranch_acceptors_sup,start_link,[http,ranch_tcp]}},{restart_type,permanent},{shutdown,infinity},{child_type,supervisor}]

2021-06-19 20:35:41 =SUPERVISOR REPORT====
     Supervisor: {local,chatroom_sup}
     Context:    start_error
     Reason:     {'EXIT',{{badmatch,{error,eaddrinuse}},[{connection,start_link,0,[{file,"/home/xgame/chatroom/apps/chatroom/src/connection.erl"},{line,16}]},{supervisor,do_start_child_i,3,[{file,"supervisor.erl"},{line,379}]},{supervisor,do_start_child,2,[{file,"supervisor.erl"},{line,365}]},{supervisor,'-start_children/2-fun-0-',3,[{file,"supervisor.erl"},{line,349}]},{supervisor,children_map,4,[{file,"supervisor.erl"},{line,1157}]},{supervisor,init_children,2,[{file,"supervisor.erl"},{line,315}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,374}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,342}]}]}}
     Offender:   [{pid,undefined},{id,connection},{mfargs,{connection,start_link,[]}},{restart_type,permanent},{shutdown,5000},{child_type,worker}]

2021-06-19 20:35:41 =CRASH REPORT====
  crasher:
    initial call: application_master:init/4
    pid: <0.262.0>
    registered_name: []
    exception exit: {{{shutdown,{failed_to_start_child,connection,{'EXIT',{{badmatch,{error,eaddrinuse}},[{connection,start_link,0,[{file,"/home/xgame/chatroom/apps/chatroom/src/connection.erl"},{line,16}]},{supervisor,do_start_child_i,3,[{file,"supervisor.erl"},{line,379}]},{supervisor,do_start_child,2,[{file,"supervisor.erl"},{line,365}]},{supervisor,'-start_children/2-fun-0-',3,[{file,"supervisor.erl"},{line,349}]},{supervisor,children_map,4,[{file,"supervisor.erl"},{line,1157}]},{supervisor,init_children,2,[{file,"supervisor.erl"},{line,315}]},{gen_server,init_it,2,[{file,"gen_server.erl"},{line,374}]},{gen_server,init_it,6,[{file,"gen_server.erl"},{line,342}]}]}}}},{chatroom_app,start,[normal,[]]}},[{application_master,init,4,[{file,"application_master.erl"},{line,138}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.261.0>]
    message_queue_len: 1
    messages: [{'EXIT',<0.263.0>,normal}]
    links: [<0.261.0>,<0.43.0>]
    dictionary: []
    trap_exit: true
    status: running
    heap_size: 987
    stack_size: 27
    reductions: 244
  neighbours:
2021-06-19 20:48:47 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.288.0>
    registered_name: []
    exception error: {undef,[{connection,init,[#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept">> => <<"*/*">>,<<"host">> => <<"127.0.0.1:12580">>,<<"user-agent">> => <<"curl/7.29.0">>},host => <<"127.0.0.1">>,host_info => undefined,method => <<"GET">>,path => <<"/gate_status">>,path_info => undefined,peer => {{127,0,0,1},51410},pid => <0.287.0>,port => 12580,qs => <<>>,ref => http,scheme => <<"http">>,sock => {{127,0,0,1},12580},streamid => 1,version => 'HTTP/1.1'},[]],[]},{cowboy_handler,execute,2,[{file,"/home/xgame/chatroom/_build/default/lib/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/xgame/chatroom/_build/default/lib/cowboy/src/cowboy_stream_h.erl"},{line,296}]},{cowboy_stream_h,request_process,3,[{file,"/home/xgame/chatroom/_build/default/lib/cowboy/src/cowboy_stream_h.erl"},{line,274}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.287.0>,<0.266.0>,<0.265.0>,ranch_sup,<0.251.0>]
    message_queue_len: 0
    messages: []
    links: [<0.287.0>]
    dictionary: []
    trap_exit: false
    status: running
    heap_size: 987
    stack_size: 27
    reductions: 352
  neighbours:
2021-06-19 20:48:47 =ERROR REPORT====
Ranch listener http, connection process <0.287.0>, stream 1 had its request process <0.288.0> exit with reason undef and stacktrace [{connection,init,[#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept">> => <<"*/*">>,<<"host">> => <<"127.0.0.1:12580">>,<<"user-agent">> => <<"curl/7.29.0">>},host => <<"127.0.0.1">>,host_info => undefined,method => <<"GET">>,path => <<"/gate_status">>,path_info => undefined,peer => {{127,0,0,1},51410},pid => <0.287.0>,port => 12580,qs => <<>>,ref => http,scheme => <<"http">>,sock => {{127,0,0,1},12580},streamid => 1,version => 'HTTP/1.1'},[]],[]},{cowboy_handler,execute,2,[{file,"/home/xgame/chatroom/_build/default/lib/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/xgame/chatroom/_build/default/lib/cowboy/src/cowboy_stream_h.erl"},{line,296}]},{cowboy_stream_h,request_process,3,[{file,"/home/xgame/chatroom/_build/default/lib/cowboy/src/cowboy_stream_h.erl"},{line,274}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
2021-06-19 20:52:31 =CRASH REPORT====
  crasher:
    initial call: cowboy_stream_h:request_process/3
    pid: <0.300.0>
    registered_name: []
    exception error: {undef,[{connection,init,[#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept">> => <<"image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"accept-language">> => <<"zh-CN,zh;q=0.9,en;q=0.8,ja;q=0.7">>,<<"connection">> => <<"keep-alive">>,<<"host">> => <<"10.1.21.153:12580">>,<<"referer">> => <<"http://10.1.21.153:12580/status">>,<<"user-agent">> => <<"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.114 Safari/537.36">>},host => <<"10.1.21.153">>,host_info => undefined,method => <<"GET">>,path => <<"/favicon.ico">>,path_info => undefined,peer => {{10,1,8,15},53053},pid => <0.297.0>,port => 12580,qs => <<>>,ref => http,scheme => <<"http">>,sock => {{10,1,21,153},12580},streamid => 2,version => 'HTTP/1.1'},[]],[]},{cowboy_handler,execute,2,[{file,"/home/xgame/chatroom/_build/default/lib/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/xgame/chatroom/_build/default/lib/cowboy/src/cowboy_stream_h.erl"},{line,296}]},{cowboy_stream_h,request_process,3,[{file,"/home/xgame/chatroom/_build/default/lib/cowboy/src/cowboy_stream_h.erl"},{line,274}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]}
    ancestors: [<0.297.0>,<0.266.0>,<0.265.0>,ranch_sup,<0.251.0>]
    message_queue_len: 0
    messages: []
    links: [<0.297.0>]
    dictionary: []
    trap_exit: false
    status: running
    heap_size: 987
    stack_size: 27
    reductions: 313
  neighbours:
2021-06-19 20:52:31 =ERROR REPORT====
Ranch listener http, connection process <0.297.0>, stream 2 had its request process <0.300.0> exit with reason undef and stacktrace [{connection,init,[#{bindings => #{},body_length => 0,cert => undefined,has_body => false,headers => #{<<"accept">> => <<"image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8">>,<<"accept-encoding">> => <<"gzip, deflate">>,<<"accept-language">> => <<"zh-CN,zh;q=0.9,en;q=0.8,ja;q=0.7">>,<<"connection">> => <<"keep-alive">>,<<"host">> => <<"10.1.21.153:12580">>,<<"referer">> => <<"http://10.1.21.153:12580/status">>,<<"user-agent">> => <<"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.114 Safari/537.36">>},host => <<"10.1.21.153">>,host_info => undefined,method => <<"GET">>,path => <<"/favicon.ico">>,path_info => undefined,peer => {{10,1,8,15},53053},pid => <0.297.0>,port => 12580,qs => <<>>,ref => http,scheme => <<"http">>,sock => {{10,1,21,153},12580},streamid => 2,version => 'HTTP/1.1'},[]],[]},{cowboy_handler,execute,2,[{file,"/home/xgame/chatroom/_build/default/lib/cowboy/src/cowboy_handler.erl"},{line,41}]},{cowboy_stream_h,execute,3,[{file,"/home/xgame/chatroom/_build/default/lib/cowboy/src/cowboy_stream_h.erl"},{line,296}]},{cowboy_stream_h,request_process,3,[{file,"/home/xgame/chatroom/_build/default/lib/cowboy/src/cowboy_stream_h.erl"},{line,274}]},{proc_lib,init_p_do_apply,3,[{file,"proc_lib.erl"},{line,249}]}]
